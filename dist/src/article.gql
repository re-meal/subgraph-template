extend schema @link(url: "https://specs.apollo.dev/federation/v2.0", import: ["@key", "@shareable"])


type Query {
    "아티클 목록"
    articles(offset: Int = 0, limit: Int = 10, tagId: Int): [Article]!
    "아티클 상세"
    article(id: Int): Article
}

type Mutation {
    "아티클 작성"
    writeArticle(article: ArticleInput): WriteArticleResponse
}


type Article {
    id: Int
    "작성 날짜"
    writtenAt: String
    "제목"
    title:     String
    "내용"
    contents:  String
    "미리보기 (목록)"
    preview:   String
    "작성자"
    author:    Int
    "태그"
    tags:       [Tag]!
    "대표사진"
    thumbnail: String
}

type Tag {
    id: Int
    "태그 명"
    name: String
}

interface Response {
    "응답 코드"
    code: Int!
    "성공"
    success: Boolean!
    "메세지"
    message: Message!
}

type Message @shareable {
    "제목"
    title: String!
    "내용"
    message: String!
    "에러 (디버깅용)"
    error: String
}

type WriteArticleResponse implements Response{
    "응답 코드"
    code: Int!
    "성공"
    success: Boolean!
    "메세지"
    message: Message!
    "아티클"
    article: Article
}

input ArticleInput {
    "제목"
    title:     String!
    "내용"
    contents:  String!
    "작성자"
    author:    Int!
    "태그"
    tags:       [String]!
    "대표사진"
    thumbnail: String!
}

